{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["\nexport function fetchData(apiKey, query) {\n  return fetch(`https://pixabay.com/api/?key=${apiKey}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`)\n    .then((res) => {\n      if (!res.ok) {\n        throw new Error(res.status);\n      }\n      return res.json();\n    });\n}\n","export function renderCard(data) {\n  return data.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n     <li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=${largeImageURL}>\n          <img\n            class=\"gallery-image\"\n            src=${webformatURL}\n            data-source=${largeImageURL}\n            alt=\"${tags}\"\n          />\n        </a> \n        <div class=text-container>\n          <p>Likes <span class=\"text-span\">${likes}</span></p>\n          <p>Views <span class=\"text-span\">${views}</span></</p>\n          <p>Comments <span class=\"text-span\">${comments}</span></p>\n          <p>Downloads <span class=\"text-span\">${downloads}</span></p>\n        </div>\n     </li>\n  `).join(\"\");\n}\n","import { fetchData } from \"./js/pixabay-api.js\";\nimport { renderCard } from \"./js/render-functions.js\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst refs = {\n  form: document.querySelector(\".form_for_image\"),\n  inp: document.querySelector(\".input\"),\n  button: document.querySelector(\".button\"),\n  list: document.querySelector(\".gallery\"),\n  loader: document.querySelector(\".loader\")\n};\n\nrefs.loader.style.display = \"none\";\nconst myApiKey = \"44825095-5da981a8d37f63705e36ec7d1\";\nlet gallery = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nrefs.form.addEventListener(\"submit\", handler);\nfunction handler(event) {\n  event.preventDefault();\n  let inputValue = refs.inp.value.trim().toLowerCase();\n  if (inputValue === \"\") {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please enter a search query!'\n    });\n  } else {\n    showLoader();\n    fetchData(myApiKey, inputValue)\n      .then(data => {\n        hideLoader();\n        if (data.hits.length === 0) {\n          iziToast.error({\n            title: '',\n            message: 'Sorry, there are no images matching your search query. Please try again!'\n          });\n        } else {\n          const arr = data.hits.map(item => ({\n            webformatURL: item.webformatURL,\n            largeImageURL: item.largeImageURL,\n            tags: item.tags,\n            likes: item.likes,\n            views: item.views,\n            comments: item.comments,\n            downloads: item.downloads\n          }));\n          const markup = renderCard(arr);\n          refs.list.innerHTML = markup;\n          gallery.refresh();\n        }\n      })\n      .catch(error => {\n        hideLoader();\n        onFetchError(error);\n      })\n      .finally(() => refs.form.reset());\n  }\n}\n\nfunction onFetchError(error) {\n  console.error('Error fetching data:', error);\n}\n\nfunction showLoader() {\n  refs.loader.style.display = \"block\";\n}\n\nfunction hideLoader() {\n  refs.loader.style.display = \"none\";\n}\n"],"names":["fetchData","apiKey","query","res","renderCard","data","webformatURL","largeImageURL","tags","likes","views","comments","downloads","refs","myApiKey","gallery","SimpleLightbox","handler","event","inputValue","iziToast","showLoader","hideLoader","arr","item","markup","error","onFetchError"],"mappings":"6vBACO,SAASA,EAAUC,EAAQC,EAAO,CACvC,OAAO,MAAM,gCAAgCD,CAAM,MAAMC,CAAK,0DAA0D,EACrH,KAAMC,GAAQ,CACb,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE5B,OAAOA,EAAI,MACjB,CAAK,CACL,CCTO,SAASC,EAAWC,EAAM,CAC/B,OAAOA,EAAK,IAAI,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAAK;AAAA;AAAA,uCAEzDL,CAAa;AAAA;AAAA;AAAA,kBAGlCD,CAAY;AAAA,0BACJC,CAAa;AAAA,mBACpBC,CAAI;AAAA;AAAA;AAAA;AAAA,6CAIsBC,CAAK;AAAA,6CACLC,CAAK;AAAA,gDACFC,CAAQ;AAAA,iDACPC,CAAS;AAAA;AAAA;AAAA,GAGvD,EAAE,KAAK,EAAE,CACZ,CCZA,MAAMC,EAAO,CACX,KAAM,SAAS,cAAc,iBAAiB,EAC9C,IAAK,SAAS,cAAc,QAAQ,EACpC,OAAQ,SAAS,cAAc,SAAS,EACxC,KAAM,SAAS,cAAc,UAAU,EACvC,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEAA,EAAK,OAAO,MAAM,QAAU,OAC5B,MAAMC,EAAW,qCACjB,IAAIC,EAAU,IAAIC,EAAe,aAAc,CAC7C,aAAc,MACd,aAAc,GAChB,CAAC,EAEDH,EAAK,KAAK,iBAAiB,SAAUI,CAAO,EAC5C,SAASA,EAAQC,EAAO,CACtBA,EAAM,eAAc,EACpB,IAAIC,EAAaN,EAAK,IAAI,MAAM,KAAI,EAAG,cACnCM,IAAe,GACjBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,8BACf,CAAK,GAEDC,IACArB,EAAUc,EAAUK,CAAU,EAC3B,KAAKd,GAAQ,CAEZ,GADAiB,IACIjB,EAAK,KAAK,SAAW,EACvBe,EAAS,MAAM,CACb,MAAO,GACP,QAAS,0EACrB,CAAW,MACI,CACL,MAAMG,EAAMlB,EAAK,KAAK,IAAImB,IAAS,CACjC,aAAcA,EAAK,aACnB,cAAeA,EAAK,cACpB,KAAMA,EAAK,KACX,MAAOA,EAAK,MACZ,MAAOA,EAAK,MACZ,SAAUA,EAAK,SACf,UAAWA,EAAK,SACjB,EAAC,EACIC,EAASrB,EAAWmB,CAAG,EAC7BV,EAAK,KAAK,UAAYY,EACtBV,EAAQ,QAAO,CAChB,CACT,CAAO,EACA,MAAMW,GAAS,CACdJ,IACAK,EAAaD,CAAK,CAC1B,CAAO,EACA,QAAQ,IAAMb,EAAK,KAAK,MAAO,CAAA,EAEtC,CAEA,SAASc,EAAaD,EAAO,CAC3B,QAAQ,MAAM,uBAAwBA,CAAK,CAC7C,CAEA,SAASL,GAAa,CACpBR,EAAK,OAAO,MAAM,QAAU,OAC9B,CAEA,SAASS,GAAa,CACpBT,EAAK,OAAO,MAAM,QAAU,MAC9B"}